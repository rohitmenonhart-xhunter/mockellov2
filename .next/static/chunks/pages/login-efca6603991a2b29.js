(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{3236:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return r(8674)}])},8674:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var a=r(5893),s=r(7294),n=r(1163),o=r(9008),i=r.n(o);function c(){let[e,t]=(0,s.useState)(""),[r,o]=(0,s.useState)(""),c=(0,n.useRouter)();(0,s.useEffect)(()=>{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("sessionStartTime"),localStorage.removeItem("activeTabId"),sessionStorage.removeItem("tabId")},[]);let l=async()=>{if(!e){o("Please enter an access key!");return}try{let t=await fetch("https://serverforpaymentmockello.onrender.com/validate-key",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({access_key:e})}),r=await t.json();if(r.message)try{await navigator.mediaDevices.getUserMedia({video:!0,audio:!0});let e=Math.random().toString(36).substring(2,15);localStorage.setItem("isAuthenticated","true"),localStorage.setItem("sessionStartTime",Math.floor(Date.now()/1e3).toString()),sessionStorage.setItem("tabId",e),localStorage.setItem("activeTabId",e),document.cookie="isAuthenticated=true; path=/; max-age=".concat(900),c.push("/test")}catch(e){console.error("Error requesting camera/audio permissions:",e),o("Please enable camera and microphone access to proceed with the interview.");return}else r.error&&o(r.error)}catch(e){console.error("Error:",e),o("An error occurred while validating the key.")}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(i(),{children:[(0,a.jsx)("title",{children:"Login - Access Key Validation"}),(0,a.jsx)("meta",{name:"description",content:"Enter your access key to continue"})]}),(0,a.jsx)("main",{className:"min-h-screen flex items-center justify-center bg-black repeating-square-background",children:(0,a.jsxs)("div",{className:"bg-gray-900 p-8 rounded-lg shadow-xl w-96",children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-white mb-6 text-center",children:"Access Key Validation"}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),l()},className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"access_key",className:"block text-sm font-medium text-gray-300 mb-2",children:"Enter your Access Key:"}),(0,a.jsx)("input",{type:"text",id:"access_key",value:e,onChange:e=>t(e.target.value),className:"w-full px-3 py-2 bg-gray-800 border border-gray-700 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-pink-500",required:!0})]}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-pink-600 text-white py-2 px-4 rounded-md hover:bg-pink-700 transition-colors",children:"Validate Key"})]}),r&&(0,a.jsx)("p",{className:"mt-4 text-red-500 text-sm text-center",children:r}),(0,a.jsx)("p",{className:"mt-4 text-gray-400 text-xs text-center",children:"Note: You will need to allow camera and microphone access to proceed with the interview."})]})})]})}},1163:function(e,t,r){e.exports=r(3035)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=3236)}),_N_E=e.O()}]);